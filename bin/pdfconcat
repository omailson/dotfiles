#!/bin/bash
# DESCRIPTION Pega N arquivos do tipo PDF e os concatena gerando um outro arquivo com o nome do N+1 arquivo passado (se o mesmo não existir) ou output.pdf se todos os arquivos passados como parâmetro existirem

# TODO Passos
# pdf2ps arquivo1.pdf arquivo1.ps
# pdf2ps arquivo2.pdf arquivo2.ps
# ...
# pdf2ps arquivoN.pdf arquivoN.ps
# cat arquivo1.ps arquivo2.ps ... arquivoN.ps > arquivo(N+1).ps
# rm arquivo1.ps arquivo2.ps ... arquivoN.ps
# ps2pdf arquivo(N+1).ps arquivo(N+1).pdf
# rm arquivo(N+1).ps

for i in $@; do
    pdf2ps $i ${i%.pdf}.ps
done
cat ${@/.pdf/.ps} > output.ps
rm ${@/.pdf/.ps}
ps2pdf output.ps output.pdf
rm output.ps
